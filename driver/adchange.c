/***********************************************************************************************************************
* ファイル名 : adchange.c
* 説明 : A/D変換モジュール
***********************************************************************************************************************/

/***********************************************************************************************************************
include
***********************************************************************************************************************/
#include "adchange.h"
#include "hardware/gpio.h"
#include "hardware/adc.h"

/***********************************************************************************************************************
prototype
***********************************************************************************************************************/


/***********************************************************************************************************************
global
***********************************************************************************************************************/


/***********************************************************************************************************************
 * Function Name: init_adc
 * Description  : A/D変換初期化処理
 * Arguments    : none
 * Return Value : none
 ***********************************************************************************************************************/
void init_adc(void)
{
    adc_init();
    adc_gpio_init(24);
}

/***********************************************************************************************************************
 * Function Name: get_adc_value
 * Description  : A/D変換値取得処理
 * Arguments    : ch
 * Return Value : A/D change result
 ***********************************************************************************************************************/
uint16_t get_adc_value(uint8_t ch)
{
    if(ch != 3)return 0;

    adc_select_input(ch);
    return adc_read();
}